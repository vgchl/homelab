{
  "ignition": {
    "version": "3.4.0"
  },
  "passwd": {
    "users": [
      {
        "name": "core",
        "sshAuthorizedKeys": [
          "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIKF05sq4UVmmh8qfIQt4y6c8SjtJ7Q0sEvoAg7tlP+Mo"
        ]
      }
    ]
  },
  "storage": {
    "files": [
      {
        "path": "/home/core/tang/run.sh",
        "contents": {
          "compression": "gzip",
          "source": "data:;base64,H4sIAAAAAAAC/3SOPUvEQBCG+/0Vw5hCi2GuvARSnCBYCloKxyYZLov7xWYTQfG/y0ZuEcFiiuGZ953nhgfjedDLrNT96fnh/HR6eeyx+axLR81tfJ/uvlCpRdJmRjl77aTHrP0FlXH6Ij1GPc1mDk6sHviHqCmMb5JgySECNr/DeGXJ/Ufiai1gs9fvrzOQ1M60eiBKDohK6m8JvCoAAKIt2LVg3nTiosdjSLIL8jR0ZT7qdQRs27btjofjgfMYr6BafAcAAP//StxRNC4BAAA="
        }
      }
    ],
    "filesystems": [
      {
        "device": "/dev/mapper/root",
        "format": "xfs",
        "label": "root",
        "wipeFilesystem": true
      }
    ],
    "luks": [
      {
        "clevis": {
          "tang": [
            {
              "thumbprint": "hpQj54d1rmHroGCfZoM4_ZAlO3W1ZzGjKratbBxDKBw",
              "url": "http://10.0.10.111:9999"
            },
            {
              "thumbprint": "37dTqKL28NLyitb6KdohiA4PFcNcKIsQ7r-5gNuNapg",
              "url": "http://10.0.31.30:9999"
            },
            {
              "thumbprint": "k2qeJ4Jnxd-1uXQcrUb7IL4Z0P9j1UDsU0wFE3vWRww",
              "url": "http://10.0.32.30:9999"
            }
          ],
          "threshold": 1
        },
        "device": "/dev/disk/by-partlabel/root",
        "label": "luks-root",
        "name": "root",
        "wipeVolume": true
      }
    ]
  },
  "systemd": {
    "units": [
      {
        "contents": "[Unit]\nDescription=Tang\nAfter=docker.service\nRequires=docker.service\n\n[Service]\nTimeoutStartSec=0\nRestart=always\nEnvironment=\"BASE_PATH=/home/core/tang\"\nExecStart=/bin/bash /home/core/tang/run.sh\n\n[Install]\nWantedBy=multi-user.target\n",
        "enabled": true,
        "name": "tang.service"
      }
    ]
  }
}
